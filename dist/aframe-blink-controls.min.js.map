{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","AFRAME","registerGeometry","schema","depth","default","min","height","width","init","data","shape","THREE","Shape","moveTo","lineTo","extrudeSettings","steps","bevelEnabled","this","geometry","ExtrudeGeometry","Error","p0","v0","a","next","last","quaternion","translation","scale","shootAngle","lastNext","auxDirection","timeSinceDrawStart","posA","posB","posC","posD","registerComponent","button","oneOf","startEvents","type","endEvents","collisionEntities","hitEntity","cameraRig","teleportOrigin","hitCylinderColor","hitCylinderRadius","hitCylinderHeight","interval","curveNumberPoints","curveLineWidth","curveHitColor","curveMissColor","curveShootingSpeed","defaultPlaneSize","landingNormal","x","y","z","landingMaxAngle","max","drawIncrementally","incrementalDrawMs","missOpacity","hitOpacity","teleportEntity","el","active","obj","object3D","controllerPosition","Vector3","hitEntityQuaternion","Quaternion","hitPoint","rigWorldPosition","newRigWorldPosition","teleportEventDetail","oldPosition","newPosition","rotationQuaternion","hit","prevCheckTime","undefined","prevHitHeight","referenceNormal","Color","raycaster","Raycaster","defaultPlane","createDefaultPlane","defaultCollisionMeshes","document","createElement","classList","add","setAttribute","sceneEl","appendChild","onButtonDown","onButtonUp","updateDirection","length","addEventListener","includes","queryCollisionEntities","evt","detail","rotation","Math","atan2","PI","getAttribute","getWorldPosition","setComponent","position","lookAt","rotateY","getWorldQuaternion","update","oldData","diff","utils","copy","set","line","createLine","material","opacity","transparent","numActivePoints","setObject3D","mesh","parentNode","removeChild","createHitEntity","remove","removeEventListener","childAttachHandler","childDetachHandler","tick","time","delta","redrawLine","matrixWorld","decompose","direction","applyQuaternion","normalize","setDirection","color","multiplyScalar","lastDrawnIndex","numPoints","floor","timeToReach0","parabolicCurveMaxRoot","parabolicCurve","dirLastNext","sub","far","lastDrawnPoint","checkMeshCollisions","j","setPoint","slice","querySelectorAll","matches","push","index","indexOf","splice","teleportOriginWorldPosition","newRigLocalPosition","newHandPosition","handPosition","rig","camera","parent","worldToLocal","setRotationFromQuaternion","hands","emit","meshes","map","entity","getObject3D","filter","intersects","intersectObjects","isValidNormalsAngle","face","normal","point","collisionNormal","angleNormals","angleTo","RAD2DEG","parabolicCurveScalar","out","sqrt","RayCurve","cylinder","torus","pointer","className","primitive","radius","radiusTubular","shader","side","depthTest","segmentsHeight","openEnded","src","cylinderTexture","size","PlaneBufferGeometry","rotateX","MeshBasicMaterial","Mesh","BufferGeometry","vertices","Float32Array","uvs","addAttribute","BufferAttribute","setDynamic","DoubleSide","frustumCulled","UP","cross","setWidth","idx","attributes","needsUpdate"],"mappings":"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","file":"aframe-blink-controls.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* global THREE, AFRAME  */\r\n\r\n// Adapted from https://github.com/fernandojsg/aframe-teleport-controls\r\n// Additions: Teleport rotation, parabolic root calculation, bindings, fix for triangle strip draw mode\r\n// Removals: Line teleport\r\n// WARNING: Super early! Currently only tested with Oculus Touch controllers\r\n\r\nAFRAME.registerGeometry('prism', {\r\n    schema: {\r\n      depth: {default: 1, min: 0},\r\n      height: {default: 1, min: 0},\r\n      width: {default: 1, min: 0},\r\n    },\r\n  \r\n    init: function (data) {\r\n        const shape = new THREE.Shape();\r\n        shape.moveTo( data.width/2, 0 );\r\n        shape.lineTo(0, data.height );\r\n        shape.lineTo( -data.width/2, 0);\r\n        shape.lineTo( data.width/2, 0 );\r\n        \r\n        const extrudeSettings = {\r\n            steps: 2,\r\n            depth: data.depth,\r\n            bevelEnabled: false,\r\n        };\r\n        this.geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );\r\n    }\r\n  });\r\n\r\n// WIP: Controller bindings cheat sheet \r\n// For HTC Vive: trackpaddown and trackpadup with axismove\r\n// For Oculus Touch: thumbstickdown and thumbstickup, with thumbstick event and evt.detail.y and evt.detail.x\r\n// For Valve Index (maybe): touchstart, touchend, axismove?\r\n\r\nif (typeof AFRAME === 'undefined') {\r\n  throw new Error('Component attempted to register before AFRAME was available.');\r\n}\r\n\r\nAFRAME.registerComponent('blink-controls', {\r\n  schema: {\r\n    button: {default: 'thumbstick', oneOf: ['trackpad', 'trigger', 'grip', 'menu', 'thumbstick']},\r\n    startEvents: {type: 'array', default: ['thumbstickdown', 'trackpaddown']},\r\n    endEvents: {type: 'array', default: ['thumbstickup', 'trackpadup']},\r\n    collisionEntities: {default: ''},\r\n    hitEntity: {type: 'selector'},\r\n    cameraRig: {type: 'selector', default: '#player'},\r\n    teleportOrigin: {type: 'selector', default: '#camera'},\r\n    hitCylinderColor: {type: 'color', default: '#4d93fd'},\r\n    hitCylinderRadius: {default: 0.25, min: 0},\r\n    hitCylinderHeight: {default: 0.3, min: 0},\r\n    interval: {default: 0},\r\n    curveNumberPoints: {default: 50, min: 2},\r\n    curveLineWidth: {default: 0.025},\r\n    curveHitColor: {type: 'color', default: '#4d93fd'},\r\n    curveMissColor: {type: 'color', default: '#ff0000'},\r\n    curveShootingSpeed: {default: 10, min: 0},\r\n    defaultPlaneSize: { default: 100 },\r\n    landingNormal: {type: 'vec3', default: { x: 0, y: 1, z: 0 }},\r\n    landingMaxAngle: {default: '45', min: 0, max: 360},\r\n    drawIncrementally: {default: true},\r\n    incrementalDrawMs: {default: 500},\r\n    missOpacity: {default: 0.8},\r\n    hitOpacity: {default: 0.8}\r\n  },\r\n\r\n  init: function () {\r\n    var data = this.data;\r\n    var el = this.el;\r\n    var teleportEntity;\r\n    var i;\r\n\r\n    this.active = false;\r\n    this.obj = el.object3D;\r\n    this.controllerPosition = new THREE.Vector3();\r\n    this.hitEntityQuaternion = new THREE.Quaternion();\r\n    this.hitPoint = new THREE.Vector3();\r\n    this.rigWorldPosition = new THREE.Vector3();\r\n    this.newRigWorldPosition = new THREE.Vector3();\r\n    this.teleportEventDetail = {\r\n      oldPosition: this.rigWorldPosition,\r\n      newPosition: this.newRigWorldPosition,\r\n      hitPoint: this.hitPoint,\r\n      rotationQuaternion: this.hitEntityQuaternion\r\n    };\r\n\r\n    this.hit = false;\r\n    this.prevCheckTime = undefined;\r\n    this.prevHitHeight = 0;\r\n    this.referenceNormal = new THREE.Vector3();\r\n    this.curveMissColor = new THREE.Color();\r\n    this.curveHitColor = new THREE.Color();\r\n    this.raycaster = new THREE.Raycaster();\r\n\r\n    this.defaultPlane = this.createDefaultPlane(this.data.defaultPlaneSize);\r\n    this.defaultCollisionMeshes = [this.defaultPlane];\r\n\r\n    teleportEntity = this.teleportEntity = document.createElement('a-entity');\r\n    teleportEntity.classList.add('teleportRay');\r\n    teleportEntity.setAttribute('visible', false);\r\n    el.sceneEl.appendChild(this.teleportEntity);\r\n\r\n    this.onButtonDown = this.onButtonDown.bind(this);\r\n    this.onButtonUp = this.onButtonUp.bind(this);\r\n    this.updateDirection = this.updateDirection.bind(this);\r\n\r\n    this.teleportOrigin = this.data.teleportOrigin;\r\n    this.cameraRig = this.data.cameraRig;\r\n\r\n    if (this.data.startEvents.length && this.data.endEvents.length) {\r\n\r\n      for (i = 0; i < this.data.startEvents.length; i++) {\r\n        el.addEventListener(this.data.startEvents[i], this.onButtonDown);\r\n      }\r\n      for (i = 0; i < this.data.endEvents.length; i++) {\r\n        el.addEventListener(this.data.endEvents[i], this.onButtonUp);\r\n      }\r\n    } else {\r\n      el.addEventListener(data.button + 'down', this.onButtonDown);\r\n      el.addEventListener(data.button + 'up', this.onButtonUp);\r\n    }\r\n\r\n    // Special case for thumbstickmoved (on Oculus Touch)\r\n    if(this.data.startEvents && this.data.startEvents.includes('thumbstickdown')) {\r\n        el.addEventListener('thumbstickmoved', this.updateDirection)\r\n    }\r\n\r\n    this.queryCollisionEntities();\r\n  },\r\n\r\n  updateDirection: function (evt) {\r\n    // console.log('Y (up is -):', evt.detail.y)\r\n    // console.log('X (left is -):', evt.detail.x)\r\n\r\n    if (evt.detail.x && evt.detail.y) {\r\n        const rotation = Math.atan2(evt.detail.x, evt.detail.y) + Math.PI\r\n        const teleportOriginRotation = this.teleportOrigin.getAttribute('rotation').y\r\n        const cameraRigRotation = this.cameraRig.getAttribute('rotation').y\r\n        this.obj.getWorldPosition(this.controllerPosition)\r\n        this.controllerPosition.setComponent(1, this.hitEntity.object3D.position.y)\r\n        this.hitEntity.object3D.lookAt(this.controllerPosition)\r\n        this.hitEntity.object3D.rotateY(rotation)\r\n        this.hitEntity.object3D.getWorldQuaternion(this.hitEntityQuaternion)    \r\n    }\r\n\r\n  },\r\n  update: function (oldData) {\r\n    var data = this.data;\r\n    var diff = AFRAME.utils.diff(data, oldData);\r\n\r\n    // Update normal.\r\n    this.referenceNormal.copy(data.landingNormal);\r\n\r\n    // Update colors.\r\n    this.curveMissColor.set(data.curveMissColor);\r\n    this.curveHitColor.set(data.curveHitColor);\r\n\r\n\r\n    // Create or update line mesh.\r\n    if (!this.line ||\r\n        'curveLineWidth' in diff || 'curveNumberPoints' in diff || 'type' in diff) {\r\n\r\n      this.line = this.createLine(data);\r\n      this.line.material.opacity = this.data.hitOpacity;\r\n      this.line.material.transparent = this.data.hitOpacity < 1;\r\n      this.numActivePoints = data.curveNumberPoints;\r\n      this.teleportEntity.setObject3D('mesh', this.line.mesh);\r\n    }\r\n\r\n    // Create or update hit entity.\r\n    if (data.hitEntity) {\r\n      this.hitEntity = data.hitEntity;\r\n    } else if (!this.hitEntity || 'hitCylinderColor' in diff || 'hitCylinderHeight' in diff ||\r\n               'hitCylinderRadius' in diff) {\r\n      // Remove previous entity, create new entity (could be more performant).\r\n      if (this.hitEntity) { this.hitEntity.parentNode.removeChild(this.hitEntity); }\r\n      this.hitEntity = this.createHitEntity(data);\r\n      this.el.sceneEl.appendChild(this.hitEntity);\r\n    }\r\n    this.hitEntity.setAttribute('visible', false);\r\n\r\n    if ('collisionEntities' in diff) { this.queryCollisionEntities(); }\r\n  },\r\n\r\n  remove: function () {\r\n    var el = this.el;\r\n    var hitEntity = this.hitEntity;\r\n    var teleportEntity = this.teleportEntity;\r\n\r\n    if (hitEntity) { hitEntity.parentNode.removeChild(hitEntity); }\r\n    if (teleportEntity) { teleportEntity.parentNode.removeChild(teleportEntity); }\r\n\r\n    el.sceneEl.removeEventListener('child-attached', this.childAttachHandler);\r\n    el.sceneEl.removeEventListener('child-detached', this.childDetachHandler);\r\n  },\r\n\r\n  tick: (function () {\r\n    var p0 = new THREE.Vector3();\r\n    var v0 = new THREE.Vector3();\r\n    var g = -9.8;\r\n    var a = new THREE.Vector3(0, g, 0);\r\n    var next = new THREE.Vector3();\r\n    var last = new THREE.Vector3();\r\n    var quaternion = new THREE.Quaternion();\r\n    var translation = new THREE.Vector3();\r\n    var scale = new THREE.Vector3();\r\n    var shootAngle = new THREE.Vector3();\r\n    var lastNext = new THREE.Vector3();\r\n    var auxDirection = new THREE.Vector3();\r\n    var timeSinceDrawStart = 0;\r\n\r\n    return function (time, delta) {\r\n      if (!this.active) { return; }\r\n      if (this.data.drawIncrementally && this.redrawLine){\r\n        this.redrawLine = false;\r\n        timeSinceDrawStart = 0;\r\n      }\r\n      timeSinceDrawStart += delta;\r\n      this.numActivePoints = this.data.curveNumberPoints*timeSinceDrawStart/this.data.incrementalDrawMs;\r\n      if (this.numActivePoints > this.data.curveNumberPoints){\r\n        this.numActivePoints = this.data.curveNumberPoints;\r\n      }\r\n\r\n      // Only check for intersection if interval time has passed.\r\n      if (this.prevCheckTime && (time - this.prevCheckTime < this.data.interval)) { return; }\r\n      // Update check time.\r\n      this.prevCheckTime = time;\r\n\r\n      var matrixWorld = this.obj.matrixWorld;\r\n      matrixWorld.decompose(translation, quaternion, scale);\r\n\r\n      var direction = shootAngle.set(0, 0, -1)\r\n        .applyQuaternion(quaternion).normalize();\r\n      this.line.setDirection(auxDirection.copy(direction));\r\n      this.obj.getWorldPosition(p0);\r\n\r\n      last.copy(p0);\r\n\r\n      // Set default status as non-hit\r\n      this.teleportEntity.setAttribute('visible', true);\r\n      this.line.material.color.set(this.curveMissColor);\r\n      this.line.material.opacity = this.data.missOpacity;\r\n      this.line.material.transparent = this.data.missOpacity < 1;\r\n      this.hitEntity.setAttribute('visible', false);\r\n      this.hit = false;\r\n\r\n\r\n        v0.copy(direction).multiplyScalar(this.data.curveShootingSpeed);\r\n\r\n        this.lastDrawnIndex = 0;\r\n        const numPoints = this.data.drawIncrementally ? this.numActivePoints : this.line.numPoints;\r\n        for (var i = 0; i < numPoints+1; i++) {\r\n            var t;\r\n            if (i == Math.floor(numPoints+1)){\r\n            t =  numPoints / (this.line.numPoints - 1);\r\n            }\r\n            else {\r\n            t = i / (this.line.numPoints - 1);\r\n            }\r\n            const timeToReach0 = this.parabolicCurveMaxRoot(p0,v0,a)\r\n            t = t * Math.max(1, 1.5*timeToReach0);\r\n\r\n            this.parabolicCurve(p0, v0, a, t, next);\r\n            // Update the raycaster with the length of the current segment last->next\r\n            var dirLastNext = lastNext.copy(next).sub(last).normalize();\r\n            this.raycaster.far = dirLastNext.length();\r\n            this.raycaster.set(last, dirLastNext);\r\n\r\n            this.lastDrawnPoint = next;\r\n            this.lastDrawnIndex = i;\r\n            if (this.checkMeshCollisions(i, last, next)) { break; }\r\n\r\n            last.copy(next);\r\n        }\r\n        for (var j = this.lastDrawnIndex+1; j < this.line.numPoints; j++) {\r\n            this.line.setPoint(j, this.lastDrawnPoint, this.lastDrawnPoint);\r\n        }\r\n    };\r\n  })(),\r\n\r\n  /**\r\n   * Run `querySelectorAll` for `collisionEntities` and maintain it with `child-attached`\r\n   * and `child-detached` events.\r\n   */\r\n  queryCollisionEntities: function () {\r\n    var collisionEntities;\r\n    var data = this.data;\r\n    var el = this.el;\r\n\r\n    if (!data.collisionEntities) {\r\n      this.collisionEntities = [];\r\n      return;\r\n    }\r\n\r\n    collisionEntities = [].slice.call(el.sceneEl.querySelectorAll(data.collisionEntities));\r\n    this.collisionEntities = collisionEntities;\r\n\r\n    // Update entity list on attach.\r\n    this.childAttachHandler = function childAttachHandler (evt) {\r\n      if (!evt.detail.el.matches(data.collisionEntities)) { return; }\r\n      collisionEntities.push(evt.detail.el);\r\n    };\r\n    el.sceneEl.addEventListener('child-attached', this.childAttachHandler);\r\n\r\n    // Update entity list on detach.\r\n    this.childDetachHandler = function childDetachHandler (evt) {\r\n      var index;\r\n      if (!evt.detail.el.matches(data.collisionEntities)) { return; }\r\n      index = collisionEntities.indexOf(evt.detail.el);\r\n      if (index === -1) { return; }\r\n      collisionEntities.splice(index, 1);\r\n    };\r\n    el.sceneEl.addEventListener('child-detached', this.childDetachHandler);\r\n  },\r\n\r\n  onButtonDown: function () {\r\n    this.active = true;\r\n    this.redrawLine = true;\r\n  },\r\n\r\n  /**\r\n   * Jump!\r\n   */\r\n  onButtonUp: (function () {\r\n    const teleportOriginWorldPosition = new THREE.Vector3();\r\n    const newRigLocalPosition = new THREE.Vector3();\r\n    const newHandPosition = [new THREE.Vector3(), new THREE.Vector3()]; // Left and right\r\n    const handPosition = new THREE.Vector3();\r\n\r\n    return function (evt) {\r\n      if (!this.active) { return; }\r\n\r\n      // Hide the hit point and the curve\r\n      this.active = false;\r\n      this.hitEntity.setAttribute('visible', false);\r\n      this.teleportEntity.setAttribute('visible', false);\r\n\r\n      if (!this.hit) {\r\n        // Button released but not hit point\r\n        return;\r\n      }\r\n\r\n      const rig = this.data.cameraRig || this.el.sceneEl.camera.el;\r\n      rig.object3D.getWorldPosition(this.rigWorldPosition);\r\n      this.newRigWorldPosition.copy(this.hitPoint);\r\n      \r\n      // If a teleportOrigin exists, offset the rig such that the teleportOrigin is above the hitPoint\r\n      if (this.teleportOrigin) {\r\n        this.teleportOrigin.object3D.getWorldPosition(teleportOriginWorldPosition);\r\n        this.newRigWorldPosition.sub(teleportOriginWorldPosition).add(this.rigWorldPosition);\r\n      }\r\n\r\n      // Always keep the rig at the same offset off the ground after teleporting\r\n      this.newRigWorldPosition.y = this.rigWorldPosition.y + this.hitPoint.y - this.prevHitHeight;\r\n      this.prevHitHeight = this.hitPoint.y;\r\n\r\n      // Finally update the rigs position\r\n      newRigLocalPosition.copy(this.newRigWorldPosition);\r\n      if (rig.object3D.parent) {\r\n        rig.object3D.parent.worldToLocal(newRigLocalPosition);\r\n      }\r\n      rig.setAttribute('position', newRigLocalPosition);\r\n      \r\n      // Rotate the rig based on teleport rotation (which is equal to the hitEntity rotation)\r\n      this.cameraRig.object3D.setRotationFromQuaternion(this.hitEntityQuaternion)\r\n\r\n      // If a rig was not explicitly declared, look for hands and move them proportionally as well\r\n      if (!this.data.cameraRig) {\r\n        var hands = document.querySelectorAll('a-entity[tracked-controls]');\r\n        for (var i = 0; i < hands.length; i++) {\r\n          hands[i].object3D.getWorldPosition(handPosition);\r\n\r\n          // diff = rigWorldPosition - handPosition\r\n          // newPos = newRigWorldPosition - diff\r\n          newHandPosition[i].copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(handPosition);\r\n          hands[i].setAttribute('position', newHandPosition[i]);\r\n        }\r\n      }\r\n\r\n      this.el.emit('teleported', this.teleportEventDetail);\r\n    };\r\n  })(),\r\n\r\n  /**\r\n   * Check for raycaster intersection.\r\n   *\r\n   * @param {number} Line fragment point index.\r\n   * @param {number} Last line fragment point index.\r\n   * @param {number} Next line fragment point index.\r\n   * @returns {boolean} true if there's an intersection.\r\n   */\r\n  checkMeshCollisions: function (i, last, next) {\r\n    // @todo We should add a property to define if the collisionEntity is dynamic or static\r\n    // If static we should do the map just once, otherwise we're recreating the array in every\r\n    // loop when aiming.\r\n    var meshes;\r\n    if (!this.data.collisionEntities) {\r\n      meshes = this.defaultCollisionMeshes;\r\n    } else {\r\n      meshes = this.collisionEntities.map(function (entity) {\r\n        return entity.getObject3D('mesh');\r\n      }).filter(function (n) { return n; });\r\n      meshes = meshes.length ? meshes : this.defaultCollisionMeshes;\r\n    }\r\n\r\n    var intersects = this.raycaster.intersectObjects(meshes, true);\r\n    if (intersects.length > 0 && !this.hit &&\r\n        this.isValidNormalsAngle(intersects[0].face.normal)) {\r\n      var point = intersects[0].point;\r\n\r\n      this.line.material.color.set(this.curveHitColor);\r\n      this.line.material.opacity = this.data.hitOpacity;\r\n      this.line.material.transparent= this.data.hitOpacity < 1;\r\n      this.hitEntity.setAttribute('position', point);\r\n      this.hitEntity.setAttribute('visible', true);\r\n\r\n      this.hit = true;\r\n      this.hitPoint.copy(intersects[0].point);\r\n\r\n      // If hit, just fill the rest of the points with the hit point and break the loop\r\n      for (var j = i; j < this.line.numPoints; j++) {\r\n        this.line.setPoint(j, last, this.hitPoint);\r\n      }\r\n      return true;\r\n    } else {\r\n      this.line.setPoint(i, last, next);\r\n      return false;\r\n    }\r\n  },\r\n\r\n  isValidNormalsAngle: function (collisionNormal) {\r\n    var angleNormals = this.referenceNormal.angleTo(collisionNormal);\r\n    return (THREE.Math.RAD2DEG * angleNormals <= this.data.landingMaxAngle);\r\n  },\r\n\r\n  // Utils\r\n  // Parabolic motion equation, y = p0 + v0*t + 1/2at^2\r\n  parabolicCurveScalar: function (p0, v0, a, t) {\r\n    return p0 + v0 * t + 0.5 * a * t * t;\r\n  },\r\n  \r\n  // Parabolic motion equation applied to 3 dimensions\r\n  parabolicCurve: function (p0, v0, a, t, out) {\r\n    out.x = this.parabolicCurveScalar(p0.x, v0.x, a.x, t);\r\n    out.y = this.parabolicCurveScalar(p0.y, v0.y, a.y, t);\r\n    out.z = this.parabolicCurveScalar(p0.z, v0.z, a.z, t);\r\n    return out;\r\n  },\r\n   \r\n  // To determine how long in terms of t we need to calculate\r\n  parabolicCurveMaxRoot: function (p0, v0, a) {\r\n    const root = (-v0.y - Math.sqrt(v0.y**2 - 4*(0.5*a.y)*p0.y)) / (2 * 0.5 * a.y)\r\n    return root\r\n  },\r\n\r\n  createLine: function (data) {\r\n    var numPoints = data.type === 'line' ? 2 : data.curveNumberPoints;\r\n    return new AFRAME.utils.RayCurve(numPoints, data.curveLineWidth);\r\n  },\r\n\r\n  /**\r\n * Create mesh to represent the area of intersection.\r\n * Default to a combination of torus and cylinder.\r\n */\r\n  createHitEntity: function (data) {\r\n    var cylinder;\r\n    var hitEntity;\r\n    var torus;\r\n    var pointer;\r\n  \r\n    // Parent.\r\n    hitEntity = document.createElement('a-entity');\r\n    hitEntity.className = 'hitEntity';\r\n  \r\n    // Torus.\r\n    torus = document.createElement('a-entity');\r\n    torus.setAttribute('geometry', {\r\n      primitive: 'torus',\r\n      radius: data.hitCylinderRadius,\r\n      radiusTubular: 0.01\r\n    });\r\n    torus.setAttribute('rotation', {x: 90, y: 0, z: 0});\r\n    torus.setAttribute('material', {\r\n      shader: 'flat',\r\n      color: data.hitCylinderColor,\r\n      side: 'double',\r\n      depthTest: false\r\n    });\r\n    hitEntity.appendChild(torus);\r\n  \r\n    // Cylinder.\r\n    cylinder = document.createElement('a-entity');\r\n    cylinder.setAttribute('position', {x: 0, y: data.hitCylinderHeight / 2, z: 0});\r\n    cylinder.setAttribute('geometry', {\r\n      primitive: 'cylinder',\r\n      segmentsHeight: 1,\r\n      radius: data.hitCylinderRadius,\r\n      height: data.hitCylinderHeight,\r\n      openEnded: true\r\n    });\r\n    cylinder.setAttribute('material', {\r\n      shader: 'flat',\r\n      color: data.hitCylinderColor,\r\n      side: 'double',\r\n      src: this.cylinderTexture,\r\n      transparent: true,\r\n      depthTest: false\r\n    });\r\n    hitEntity.appendChild(cylinder);\r\n  \r\n    pointer = document.createElement('a-entity');\r\n    pointer.setAttribute('position', {x: 0, y: 0.05, z: data.hitCylinderRadius * -1.5})\r\n    pointer.setAttribute('rotation', { x: 90, y:180, z:0 })\r\n    pointer.setAttribute('geometry', {\r\n      primitive: 'prism',\r\n      height: 0.2,\r\n      width: 0.2,\r\n      depth: 0.05,\r\n    });\r\n    pointer.setAttribute('material', {\r\n      shader: 'flat',\r\n      color: data.hitCylinderColor,\r\n      side: 'double',\r\n      transparent: true,\r\n      opacity: 0.3,\r\n      depthTest: false\r\n    });\r\n    hitEntity.appendChild(pointer)\r\n    \r\n    return hitEntity;\r\n  },\r\n  createDefaultPlane: function (size) {\r\n    var geometry;\r\n    var material;\r\n\r\n    geometry = new THREE.PlaneBufferGeometry(100, 100);\r\n    geometry.rotateX(-Math.PI / 2);\r\n    material = new THREE.MeshBasicMaterial({color: 0xffff00});\r\n    return new THREE.Mesh(geometry, material);\r\n},\r\n    cylinderTexture: 'url(data:image/png;base64,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)',\r\n});\r\n\r\nAFRAME.utils.RayCurve = function (numPoints, width) {\r\n    this.geometry = new THREE.BufferGeometry();\r\n    this.vertices = new Float32Array(numPoints * 3 * 6); // 6 vertices (2 triangles) * 3 dimensions\r\n    this.uvs = new Float32Array(numPoints * 2 * 6); // 2 uvs per vertex\r\n    this.width = width;\r\n  \r\n    this.geometry.addAttribute('position', new THREE.BufferAttribute(this.vertices, 3).setDynamic(true));\r\n  \r\n    this.material = new THREE.MeshBasicMaterial({\r\n      side: THREE.DoubleSide,\r\n      color: 0xff0000\r\n    });\r\n  \r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n  \r\n    this.mesh.frustumCulled = false;\r\n    this.mesh.vertices = this.vertices;\r\n  \r\n    this.direction = new THREE.Vector3();\r\n    this.numPoints = numPoints;\r\n  };\r\n  \r\nAFRAME.utils.RayCurve.prototype = {\r\n    setDirection: function (direction) {\r\n      var UP = new THREE.Vector3(0, 1, 0);\r\n      this.direction\r\n        .copy(direction)\r\n        .cross(UP)\r\n        .normalize()\r\n        .multiplyScalar(this.width / 2);\r\n    },\r\n  \r\n    setWidth: function (width) {\r\n      this.width = width;\r\n    },\r\n  \r\n    setPoint: (function () {\r\n      var posA = new THREE.Vector3();\r\n      var posB = new THREE.Vector3();\r\n      var posC = new THREE.Vector3();\r\n      var posD = new THREE.Vector3();\r\n     \r\n      return function (i, last, next) {\r\n        posA.copy(last).add(this.direction);\r\n        posB.copy(last).sub(this.direction);\r\n  \r\n        posC.copy(next).add(this.direction);\r\n        posD.copy(next).sub(this.direction);\r\n\r\n        var idx = 6 * 3 * i; // 6 vertices per point\r\n  \r\n        this.vertices[idx++] = posA.x;\r\n        this.vertices[idx++] = posA.y;\r\n        this.vertices[idx++] = posA.z;\r\n  \r\n        this.vertices[idx++] = posB.x;\r\n        this.vertices[idx++] = posB.y;\r\n        this.vertices[idx++] = posB.z;\r\n  \r\n        this.vertices[idx++] = posC.x;\r\n        this.vertices[idx++] = posC.y;\r\n        this.vertices[idx++] = posC.z;\r\n  \r\n        this.vertices[idx++] = posC.x;\r\n        this.vertices[idx++] = posC.y;\r\n        this.vertices[idx++] = posC.z;\r\n  \r\n        this.vertices[idx++] = posB.x;\r\n        this.vertices[idx++] = posB.y;\r\n        this.vertices[idx++] = posB.z;\r\n  \r\n        this.vertices[idx++] = posD.x;\r\n        this.vertices[idx++] = posD.y;\r\n        this.vertices[idx++] = posD.z;\r\n  \r\n        this.geometry.attributes.position.needsUpdate = true;\r\n      };\r\n    })()\r\n  };\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}